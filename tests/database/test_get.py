# +--------------------------------------------------------------------------------------------------------------------|
# |                                                                                          test.database.test_get.py |
# |                                                                                             Author: Pauliv, RÃ´mulo |
# |                                                                                          email: romulopauliv@bk.ru |
# |                                                                                                    encoding: UTF-8 |
# +--------------------------------------------------------------------------------------------------------------------|

# | imports |----------------------------------------------------------------------------------------------------------|
import requests
from config import *
from typing import Any
# |--------------------------------------------------------------------------------------------------------------------|

# | Set data |---------------------------------------------------------------------------------------------------------|
credentials: dict[str] = {"username": "admin", "password": "123!Admin"}
header: dict[str] = {"Authorization": f"Bearer {token_return(credentials['username'], credentials['password'])}"}
# |--------------------------------------------------------------------------------------------------------------------|

# | function |---------------------------------------------------------------------------------------------------------|
def get_function(json_body: dict[str, Any]) -> requests.models.Response:
    return requests.get(f"{root_route}{database}", headers=header, json=json_body)
# |--------------------------------------------------------------------------------------------------------------------|

# | Test Read Database |-----------------------------------------------------------------------------------------------|
def test_read_database() -> None:
    response: requests.models.Response = get_function(None)
    assert response.status_code == 200
# |--------------------------------------------------------------------------------------------------------------------|

# | Test with wrong requests |-----------------------------------------------------------------------------------------|
def test_sended_json() -> None:
    response: requests.models.Response = get_function({"testing": "mode"})
    assert response.status_code == 200
# |--------------------------------------------------------------------------------------------------------------------|